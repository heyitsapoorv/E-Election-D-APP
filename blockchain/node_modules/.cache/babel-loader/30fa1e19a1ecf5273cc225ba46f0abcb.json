{"ast":null,"code":"import _classCallCheck from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';var ElectionData=/*#__PURE__*/function(_Component){_inherits(ElectionData,_Component);var _super=_createSuper(ElectionData);function ElectionData(props){var _this;_classCallCheck(this,ElectionData);_this=_super.call(this,props);_this.handleInputChange=function(e){var name=e.target.innerHTML;var index=0;for(var i=0;i<_this.state.election_name.length;i++){if(name===_this.state.election_name[i]){index=i;break;}}var id=_this.state.election_id[index];_this.setState({id:id});};_this.state={election_name:[],election_organizer:[],election_id:[],final:[],id:null};return _this;}_createClass(ElectionData,[{key:\"componentDidMount\",value:function componentDidMount(){var currentComponent=this;axios.get('http://localhost:8000/api/electionName',{}).then(function(response){var data=response.data;currentComponent.setState({// election_name: data[0],\n// election_organizer: data[1],\n// election_id: data[2],\nfinal:data});}).catch(function(err){console.error(err);});}},{key:\"render\",value:function render(){var _this2=this;var electionList=this.state.final.map(function(election){return/*#__PURE__*/React.createElement(\"div\",{className:\"contact\",key:election.election_id,class:\"container\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,election.election_name)),/*#__PURE__*/React.createElement(Link,{to:\"/candidates/\"+election.election_id,className:\"title\",onClick:_this2.handleInputChange},/*#__PURE__*/React.createElement(\"button\",{id:election.election_id,class:\"btn btn-warning \"},\"Add Candidate\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{to:\"/voteCount/\"+election.election_id,className:\"title\",onClick:_this2.handleInputChange},/*#__PURE__*/React.createElement(\"button\",{id:election.election_id,class:\"btn btn-warning \"},\"View Vote Count\"))),/*#__PURE__*/React.createElement(\"br\",null));});return/*#__PURE__*/React.createElement(\"div\",{class:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-6 login-section-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{class:\"login-wrapper my-auto\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"collection\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Elections\"),electionList))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-6 px-0 d-none d-sm-block\"},/*#__PURE__*/React.createElement(\"img\",{src:\"login.jpg\",alt:\"login image\",class:\"login-img\"}))));}}]);return ElectionData;}(Component);export default ElectionData;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/src/components/custom/ElectionData.js"],"names":["React","Component","axios","Link","ElectionData","props","handleInputChange","e","name","target","innerHTML","index","i","state","election_name","length","id","election_id","setState","election_organizer","final","currentComponent","get","then","response","data","catch","err","console","error","electionList","map","election"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nclass ElectionData extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            election_name: [],\r\n            election_organizer: [],\r\n            election_id: [],\r\n            final: [],\r\n            id: null,\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        let currentComponent = this;\r\n      \r\n        axios.get('http://localhost:8000/api/electionName', {})\r\n        .then(function(response){ \r\n            var data = response.data;\r\n            currentComponent.setState({\r\n                // election_name: data[0],\r\n                // election_organizer: data[1],\r\n                // election_id: data[2],\r\n                final: data\r\n            })\r\n        })\r\n        .catch(function(err){\r\n            console.error(err);\r\n        });\r\n\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        var name = e.target.innerHTML;\r\n        var index = 0;\r\n        for(let i = 0; i < this.state.election_name.length; i++){\r\n            if(name === this.state.election_name[i]){\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        var id = this.state.election_id[index];\r\n        this.setState({\r\n            id : id\r\n        })\r\n    };\r\n\r\n\r\n    render(){\r\n        const electionList = this.state.final.map(election => {\r\n            return (\r\n                <div className=\"contact\" key={election.election_id} class=\"container\" >\r\n                    <li >\r\n                        {/* <i className=\"material-icons circle blue darken-2\">ballot</i> */}\r\n                        <p><b>{election.election_name}</b></p>\r\n                        <Link to={\"/candidates/\" + election.election_id} className=\"title\" onClick={this.handleInputChange}><button id={election.election_id} class=\"btn btn-warning \" >Add Candidate</button></Link>\r\n<br />\r\n<br />\r\n                        <Link to={\"/voteCount/\" + election.election_id} className=\"title\" onClick={this.handleInputChange}><button id={election.election_id}  class=\"btn btn-warning \">View Vote Count</button></Link>\r\n                    </li>\r\n                    <br />\r\n                </div>\r\n            )\r\n        }) \r\n        return(\r\n            <div class=\"container-fluid\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-6 login-section-wrapper\">\r\n\r\n                <div class=\"login-wrapper my-auto\">\r\n            {/* <div className=\"container\"> */}\r\n                <ul className=\"collection\">\r\n                    {/* <li className=\"collection-item avatar\" style ={divStyle}> */}\r\n                        <h3>Elections</h3>\r\n                    {/* </li> */}\r\n                        {electionList}\r\n                </ul>\r\n            {/* </div> */}\r\n            </div>\r\n            </div>\r\n            <div class=\"col-sm-6 px-0 d-none d-sm-block\">\r\n              <img src=\"login.jpg\" alt=\"login image\" class=\"login-img\"/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ElectionData;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';var Choose=/*#__PURE__*/function(_Component){_inherits(Choose,_Component);var _super=_createSuper(Choose);function Choose(props){var _this;_classCallCheck(this,Choose);_this=_super.call(this,props);_this.handleInputChange=function(e){// console.log(e.target.innerHTML);\nvar name=e.target.innerHTML;var index=0;for(var i=0;i<_this.state.election_name.length;i++){if(name===_this.state.election_name[i]){index=i;break;}}var id=_this.state.election_id[index];_this.setState({id:id});};_this.state={election_name:[],election_organizer:[],election_id:[],final:[],id:null};return _this;}_createClass(Choose,[{key:\"componentDidMount\",value:function componentDidMount(){var currentComponent=this;axios.get('http://localhost:8000/api/electionName',{}).then(function(response){var data=response.data;currentComponent.setState({final:data});}).catch(function(err){console.error(err);});}},{key:\"render\",value:function render(){var _this2=this;var electionList=this.state.final.map(function(election){return/*#__PURE__*/React.createElement(\"div\",{className:\"contact\",key:election.election_id},/*#__PURE__*/React.createElement(\"li\",{className:\"collection-item avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"/vote/\"+election.election_id,className:\"title\",onClick:_this2.handleInputChange},election.election_name)));});return/*#__PURE__*/React.createElement(\"div\",{class:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-6 login-section-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{class:\"login-wrapper my-auto\"},/*#__PURE__*/React.createElement(\"h1\",{class:\"login-title\"},\" Ongoing Elections \"),/*#__PURE__*/React.createElement(\"ul\",{className:\"collection\"},electionList))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-6 px-0 d-none d-sm-block\"},/*#__PURE__*/React.createElement(\"img\",{src:\"login.jpg\",alt:\"login image\",class:\"login-img\"}))));}}]);return Choose;}(Component);export default Choose;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/E-Election-DAPP/blockchain/src/components/custom/Choose.js"],"names":["React","Component","axios","Link","Choose","props","handleInputChange","e","name","target","innerHTML","index","i","state","election_name","length","id","election_id","setState","election_organizer","final","currentComponent","get","then","response","data","catch","err","console","error","electionList","map","election"],"mappings":"4fAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,GAEMC,CAAAA,M,gGAEF,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EADe,MA2BnBC,iBA3BmB,CA2BC,SAACC,CAAD,CAAO,CACvB;AACA,GAAIC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASC,SAApB,CACA,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,MAAKC,KAAL,CAAWC,aAAX,CAAyBC,MAA5C,CAAoDH,CAAC,EAArD,CAAwD,CACpD,GAAGJ,IAAI,GAAK,MAAKK,KAAL,CAAWC,aAAX,CAAyBF,CAAzB,CAAZ,CAAwC,CACpCD,KAAK,CAAGC,CAAR,CACA,MACH,CACJ,CACD,GAAII,CAAAA,EAAE,CAAG,MAAKH,KAAL,CAAWI,WAAX,CAAuBN,KAAvB,CAAT,CACA,MAAKO,QAAL,CAAc,CACVF,EAAE,CAAGA,EADK,CAAd,EAGH,CAzCkB,CAEf,MAAKH,KAAL,CAAa,CACTC,aAAa,CAAE,EADN,CAETK,kBAAkB,CAAE,EAFX,CAGTF,WAAW,CAAE,EAHJ,CAITG,KAAK,CAAE,EAJE,CAKTJ,EAAE,CAAE,IALK,CAAb,CAFe,aASlB,C,oDAED,4BAAmB,CACf,GAAIK,CAAAA,gBAAgB,CAAG,IAAvB,CAEAnB,KAAK,CAACoB,GAAN,CAAU,wCAAV,CAAoD,EAApD,EACCC,IADD,CACM,SAASC,QAAT,CAAkB,CACpB,GAAIC,CAAAA,IAAI,CAAGD,QAAQ,CAACC,IAApB,CACAJ,gBAAgB,CAACH,QAAjB,CAA0B,CACtBE,KAAK,CAAEK,IADe,CAA1B,EAGH,CAND,EAOCC,KAPD,CAOO,SAASC,GAAT,CAAa,CAChBC,OAAO,CAACC,KAAR,CAAcF,GAAd,EACH,CATD,EAWH,C,sBAmBD,iBAAQ,iBACJ,GAAMG,CAAAA,YAAY,CAAG,KAAKjB,KAAL,CAAWO,KAAX,CAAiBW,GAAjB,CAAqB,SAAAC,QAAQ,CAAI,CAClD,mBACI,2BAAK,SAAS,CAAC,SAAf,CAAyB,GAAG,CAAEA,QAAQ,CAACf,WAAvC,eACI,0BAAI,SAAS,CAAC,wBAAd,eAEI,oBAAC,IAAD,EAAM,EAAE,CAAE,SAAWe,QAAQ,CAACf,WAA9B,CAA2C,SAAS,CAAC,OAArD,CAA6D,OAAO,CAAE,MAAI,CAACX,iBAA3E,EAA+F0B,QAAQ,CAAClB,aAAxG,CAFJ,CADJ,CADJ,CASH,CAVoB,CAArB,CAWA,mBACI,2BAAK,KAAK,CAAC,iBAAX,eACA,2BAAK,KAAK,CAAC,KAAX,eACE,2BAAK,KAAK,CAAC,gCAAX,eAEE,2BAAK,KAAK,CAAC,uBAAX,eACE,0BAAI,KAAK,CAAC,aAAV,wBADF,cAEA,0BAAI,SAAS,CAAC,YAAd,EACSgB,YADT,CAFA,CAFF,CADF,cAUE,2BAAK,KAAK,CAAC,iCAAX,eACE,2BAAK,GAAG,CAAC,WAAT,CAAqB,GAAG,CAAC,aAAzB,CAAuC,KAAK,CAAC,WAA7C,EADF,CAVF,CADA,CADJ,CAkBH,C,oBA5EgB7B,S,EA+ErB,cAAeG,CAAAA,MAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Choose extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            election_name: [],\r\n            election_organizer: [],\r\n            election_id: [],\r\n            final: [],\r\n            id: null,\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        let currentComponent = this;\r\n      \r\n        axios.get('http://localhost:8000/api/electionName', {})\r\n        .then(function(response){ \r\n            var data = response.data;\r\n            currentComponent.setState({\r\n                final: data\r\n            })\r\n        })\r\n        .catch(function(err){\r\n            console.error(err);\r\n        });\r\n\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        // console.log(e.target.innerHTML);\r\n        var name = e.target.innerHTML;\r\n        var index = 0;\r\n        for(let i = 0; i < this.state.election_name.length; i++){\r\n            if(name === this.state.election_name[i]){\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        var id = this.state.election_id[index];\r\n        this.setState({\r\n            id : id\r\n        })\r\n    };\r\n\r\n\r\n    render(){\r\n        const electionList = this.state.final.map(election => {\r\n            return (\r\n                <div className=\"contact\" key={election.election_id}>\r\n                    <li className=\"collection-item avatar\">\r\n                        {/* <i className=\"material-icons circle blue darken-2\">ballot</i> */}\r\n                        <Link to={\"/vote/\" + election.election_id} className=\"title\" onClick={this.handleInputChange}>{election.election_name}</Link>\r\n                    </li>\r\n                </div>\r\n\r\n            )\r\n        }) \r\n        return(\r\n            <div class=\"container-fluid\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-6 login-section-wrapper\">\r\n\r\n                <div class=\"login-wrapper my-auto\">\r\n                  <h1 class=\"login-title\"> Ongoing Elections </h1>\r\n                <ul className=\"collection\">\r\n                        {electionList}\r\n                </ul>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-6 px-0 d-none d-sm-block\">\r\n                <img src=\"login.jpg\" alt=\"login image\" class=\"login-img\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Choose;"]},"metadata":{},"sourceType":"module"}